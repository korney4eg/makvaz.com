<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Makvaz  | Пример бесперебойного развёртывания сервиса на Ansible в AWS. Часть 2. Rolling Deployment</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" href="/assets/favicon.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css" />
    <link rel="stylesheet" href="http://0.0.0:4000/css/blog.css" />
    
</head>
<body>

    
    <nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
            <a class="navbar-item" href="http://0.0.0:4000">Home</a>
            <a class="navbar-item" href="http://0.0.0:4000">About me</a>
        </div>
    </nav>
    

    
    <section class="hero is-info is-medium">
        <div class="hero-body" style="background-image: url(http://0.0.0:4000/assets/img/header-pic.jpeg);">
            <div class="container has-text-centered">
                <br>
                <h1 class="title is-size-1">
                    
                        Пример бесперебойного развёртывания сервиса на Ansible в AWS. Часть 2. Rolling Deployment
                    
                </h1>
            </div>

<p class="subtitle is-size-6 has-text-grey-light" align="center">
    26.11.2018 &middot;
</p>

        </div>
    </section>


<div class="container">
    <div class="section">
    
<div class="tags">

    <span class="tag"><a href="http://0.0.0:4000/tags/devops">devops</a></span>

    <span class="tag"><a href="http://0.0.0:4000/tags/aws">aws</a></span>

    <span class="tag"><a href="http://0.0.0:4000/tags/ansible">ansible</a></span>

    <span class="tag"><a href="http://0.0.0:4000/tags/deployment">deployment</a></span>

</div>          
<div class="columns">
    <div class="column is-9">
        <div class="tile is-child box">
            <div class="content">
                <p>Продолжаем серию статей по бесперебойному развёртыванию сервиса в AWS при помощи <a href="https://www.ansible.com/"> Ansible </a>. В предыдущей <a href="/2018/11/11/blue-green-deployment-with-anisble-with-aws.html">статье</a> мы разобрали Blue-Green deployment.</p>

<p>На этот раз мы рассмотрим более долгий, но и более экономный деплоймент - Rolling deployment.</p>

<h2 id="rolling-deployment">Rolling Deployment</h2>

<p>Идея заключается в следующем:</p>

<ol>
<li>У нас есть несколько инстансов на которых работает приложение версии 2.21 и лоад балансер.
<img src="/assets/img/rolling-deployment-aws-with-ansible/rolling-1.png" alt="rolling-1" /></li>
<li>Добавляем по одной виртуалке с версией 2.22 и подключаем к балансеру.
<img src="/assets/img/rolling-deployment-aws-with-ansible/rolling-2.png" alt="rolling-2" /></li>
<li>Отключаем одну старую ноду с версией 2.21 от лоад балансера и удаляем её.
<img src="/assets/img/rolling-deployment-aws-with-ansible/rolling-3.png" alt="rolling-3" /></li>
<li>Повторяем шаги 2 и 3 пока не заменим все виртуалки.
<img src="/assets/img/rolling-deployment-aws-with-ansible/rolling-6.png" alt="rolling-4" /></li>
</ol>

<p>Этот вид развёртывания неприемлем, если есть калечащие изменения в базе данных при переходе на новую версию приложения.</p>

<h2 id="реализация">Реализация</h2>

<p>На этот раз я решил упростить архитектуру, ведь для иллюстрации принципа работы достаточно иметь несколько серверов и лоад балансер, поэтому не будет использоваться RDS и дополнительные подсети. В качестве приложения будет использоваться nginx, который будет возвращать версию приложения и <em>hostname</em> инстанса, на котором работает nginx.</p>

<p>Сразу оставлю <a href="https://github.com/korney4eg/rolling-deployment-ansible"> ссылку на репозиторий с полным кодом </a>, для тех, кто хочет самостоятельно разобраться.</p>

<p>Как же реализовать rolling-deployment на ansible.</p>

<h3 id="0-используемые-переменные">0. Используемые переменные</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">    region: eu-west-<span style="color:#ae81ff">1</span>
    version: <span style="color:#ae81ff">2.22</span>
    instance_num: <span style="color:#ae81ff">3</span></code></pre></div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>region:</strong> - регион AWS, в этом примере используется регион в Ирландии</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>version:</strong> - версия приложения</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>instance_num:</strong> - окончательное число виртуалок, с нашей версией.</p>

<h3 id="1-находим-предыдущие-инстансы">1. Находим предыдущие инстансы.</h3>

<h4 id="1-1-смотрим-есть-ли-инстансы-нужной-нам-версии">1.1. Смотрим есть ли инстансы нужной нам версии</h4>

<p>Перед тем, как создавать новые виртуальные машины, убедимся, сколько их уже было создано с нужной версией и все остальные, таким образом прерванный деплой этого же приложения пе будет повторяться, а продолжиться..</p>

<p>Собираем данные о виртуалках с нужной версией.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">    - name: Get new instances
      ec2_remote_facts:
        filters:
          vpc_id: <span style="color:#e6db74">&#34;{{ vpc.vpc.id }}&#34;</span>
          instance-state-name: running
          <span style="color:#e6db74">&#34;tag:Name&#34;</span>: MyTestApp
          <span style="color:#e6db74">&#34;tag:Environment&#34;</span>: MyTest
          <span style="color:#e6db74">&#34;tag:Version&#34;</span>: <span style="color:#e6db74">&#34;{{ version }}&#34;</span>
        region: <span style="color:#e6db74">&#34;{{ region }}&#34;</span>
      register: new_instances

    - name: set new instances ids if not found previously created
      set_fact:
        new_instances: []
      when: new_instances.instances is not defined

    - name: set new instances ids if found previously created
      set_fact:
        new_instances: <span style="color:#e6db74">&#34;{{ new_instances.instances|map(attribute=&#39;id&#39;)|list }}&#34;</span>
      when: new_instances.instances is defined</code></pre></div>
<p>Так как из всей собранной информации нам нужны только айдишники, то в переменную <strong>new_instances</strong>  записывается только список айдишников виртуалок или пустой список если ничего не нашли.</p>

<h4 id="1-2-находим-все-инстансы-включая-найденные-выше">1.2. Находим все инстансы, включая найденные выше</h4>

<p>В этот список будут включены инстансы из п. 1.1., поэтому отдельно удаляем их из этого списка</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">    - name: Get old instances
      ec2_remote_facts:
        filters:
          vpc_id: <span style="color:#e6db74">&#34;{{ vpc.vpc.id }}&#34;</span>
          instance-state-name: running
          <span style="color:#e6db74">&#34;tag:Name&#34;</span>: MyTestApp
          <span style="color:#e6db74">&#34;tag:Environment&#34;</span>: MyTest
        region: <span style="color:#e6db74">&#34;{{ region }}&#34;</span>
      register: old_instances

    - name: set old instances ids if not found previously created
      set_fact:
        old_instances: []
      when: old_instances.instances is not defined

    - name: set old instances ids if found previously created
      set_fact:
        old_instances: <span style="color:#e6db74">&#34;{{ old_instances.instances|map(attribute=&#39;id&#39;)|list }}&#34;</span>
      when: old_instances.instances is defined

    - name: Remove new instances from old ones
      set_fact:
        old_instances: <span style="color:#e6db74">&#34;{{old_instances|difference(new_instances)}}&#34;</span></code></pre></div>
<p>Точно также записываем список айдишников.</p>

<h3 id="2-создаём-виртуалки-по-очереди">2. Создаём виртуалки (по очереди)</h3>

<h4 id="2-1-стартовый-скрипт-виртуальной-машины">2.1. Стартовый скрипт виртуальной машины</h4>

<p>Как уже упоминалось раннее, сервис был упрощён, теперь скрипт при старте виртуалки выглядит следующим образом.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#!/bin/bash
</span><span style="color:#75715e"></span>yum install nginx -y

<span style="color:#75715e"># nginx configuration</span>
echo <span style="color:#e6db74">&#39;
</span><span style="color:#e6db74">server {
</span><span style="color:#e6db74">    listen      8081  default_server;
</span><span style="color:#e6db74">    location = /healthcheck {
</span><span style="color:#e6db74">        add_header Content-Type text/plain;
</span><span style="color:#e6db74">    	return 200 &#39;</span><span style="color:#f92672">{{</span> version <span style="color:#f92672">}}</span><span style="color:#e6db74">&#39;;
</span><span style="color:#e6db74">    }
</span><span style="color:#e6db74">    location = /stack {
</span><span style="color:#e6db74">        add_header Content-Type text/plain;
</span><span style="color:#e6db74">    	return 200 &#39;</span><span style="color:#66d9ef">$(</span>hostname<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#39;;
</span><span style="color:#e6db74">    }
</span><span style="color:#e6db74">}&#39;</span> &gt; /etc/nginx/conf.d/virtual.conf
service nginx restart</code></pre></div>
<p>Создаётся два эндпоинта:</p>

<ul>
<li><em>/healthcheck</em> - по нему лоад балансер определяет жива ли нода. Так же он показывает версию, с которой был продеплоен инстанс</li>
<li><em>/stack</em> - показывает имя хоста</li>
</ul>

<h4 id="2-2-по-очереди-создаём-виртуальные-машины">2.2. По очереди создаём виртуальные машины</h4>

<p>Так как в Ansible нельзя просто обьеденить несколько тасков в цикл, то с версии 2.1 добавили возможность запустить группу тасков циклом, обьеденённых в один файл. Выглядит эта конструкция примерно так:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">    - include: add_remove.yaml
      with_sequence: start=<span style="color:#ae81ff">1</span> end={{ instance_num }}
      loop_control:
        loop_var: instance_counter</code></pre></div>
<p>Получается мы вызываем список заданий <code>add_remove.yaml</code> столько раз, сколько планируем запустить новых инстансов(здесь будет запущено <strong>instance_num</strong> раз).</p>

<p><strong>instance_counter</strong> - это переменная, которая будет передаваться внутрь списка заданий.</p>

<p>Заглянем внутрь <code>add_remove.yaml</code>, там происходит следующее:</p>

<h4 id="2-3-создаётся-виртуалка-и-добавляется-в-конец-списка-old-instances">2.3. Создаётся виртуалка и добавляется в конец списка <strong>old_instances</strong></h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">- set_fact:
    new_instances_num: <span style="color:#e6db74">&#34;{{new_instances|length|int}}&#34;</span>

- name: Create EC2 server
  ec2:
    image: ami-41505fab
    wait: yes
    instance_type: t2.micro
    region: <span style="color:#e6db74">&#34;{{ region }}&#34;</span>
    group_id: <span style="color:#e6db74">&#34;{{ app_sg.group_id }}&#34;</span>
    vpc_subnet_id: <span style="color:#e6db74">&#34;{{ app_subnet.subnet.id }}&#34;</span>
    key_name: <span style="color:#e6db74">&#34;{{ keypair.key.name  }}&#34;</span>
    user_data: <span style="color:#e6db74">&#34;{{ lookup(&#39;file&#39;, &#39;./setup.sh&#39;) }}&#34;</span>
    instance_tags:
      Environment: MyTest
      Name: MyTestApp
      Version: <span style="color:#e6db74">&#34;{{ version }}&#34;</span>
  register: ec2
  when: new_instances_num|int &lt; instance_num

- name: add newly create instance id to new_instances list
  set_fact:
    new_instances: <span style="color:#e6db74">&#34;{{new_instances}}+{{ec2.instance_ids}}&#34;</span>
    new_instances_num: <span style="color:#e6db74">&#34;{{new_instances|int + 1}}&#34;</span>
  when: ec2.changed == True</code></pre></div>
<p>Условие используется для того, чтобы не создавать лишние инстансы.</p>

<h4 id="2-2-добавляем-в-elastic-load-balancer-и-ждём-когда-виртуалка-запустится">2.2 Добавляем в Elastic Load Balancer и ждём, когда виртуалка запустится</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">- name: Create ELB with all instances
  ec2_elb_lb:
    name: <span style="color:#e6db74">&#34;app-rolling-lb&#34;</span>
    state: present
    security_group_ids:
      - <span style="color:#e6db74">&#34;{{ elb_sg.group_id }}&#34;</span>
    region: <span style="color:#e6db74">&#34;{{ region }}&#34;</span>
    instance_ids: <span style="color:#e6db74">&#34;{{ new_instances|union ( old_instances)}}&#34;</span>
    subnets:
      - <span style="color:#e6db74">&#34;{{ app_subnet.subnet.id}}&#34;</span>
    listeners:
      - protocol: http
        load_balancer_port: <span style="color:#ae81ff">80</span>
        instance_port: <span style="color:#ae81ff">8081</span>
    health_check:
        ping_protocol: http <span style="color:#75715e"># options are http, https, ssl, tcp</span>
        ping_port: <span style="color:#ae81ff">8081</span>
        ping_path: <span style="color:#e6db74">&#34;/healthcheck&#34;</span> <span style="color:#75715e"># not required for tcp or ssl</span>
        response_timeout: <span style="color:#ae81ff">15</span> <span style="color:#75715e"># seconds</span>
        interval: <span style="color:#ae81ff">30</span> <span style="color:#75715e"># seconds</span>
        unhealthy_threshold: <span style="color:#ae81ff">2</span>
        healthy_threshold: <span style="color:#ae81ff">2</span>
    tags:
      Environment: MyTest

- name: Waiting for instances to become ready
  ec2_elb_facts:
    region: <span style="color:#e6db74">&#34;{{ region }}&#34;</span>
    names: app-rolling-lb
  register: elb_facts
  until: elb_facts.elbs[<span style="color:#ae81ff">0</span>].instances_inservice_count  == (new_instances|union ( old_instances)|length)
  retries: <span style="color:#ae81ff">10</span>
  delay: <span style="color:#ae81ff">15</span></code></pre></div>
<p>Добавляем старые и новые инстансы в балансер, на случай если они не были добавлены раньше. Затем ждём когда все смогут ответить на запросы балансера.</p>

<h4 id="2-3-самое-хитрое-место">2.3 Самое хитрое место</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">- name: Terminate instances that were previously launched
  ec2:
    state: <span style="color:#e6db74">&#39;absent&#39;</span>
    instance_ids: <span style="color:#e6db74">&#39;{{ old_instances.0 }}&#39;</span>
    region: <span style="color:#e6db74">&#34;{{ region }}&#34;</span>
    group_id: <span style="color:#e6db74">&#34;{{ app_sg.group_id }}&#34;</span>
    vpc_subnet_id: <span style="color:#e6db74">&#34;{{ app_subnet.subnet.id }}&#34;</span>
  when: ec2.changed == True and old_instances.<span style="color:#ae81ff">0</span> is defined

- name: remove instance_id from old_instances list
  set_fact:
    old_instances: <span style="color:#e6db74">&#34;{{old_instances[1:]}}&#34;</span>
  when: ec2.changed == True and old_instances.<span style="color:#ae81ff">0</span> is defined</code></pre></div>
<p>Удаляем первую виртуалку физически и её айдишник из списка <strong>old_instances</strong>, если новая была создана.</p>

<p>При удалении виртуалки, она автоматически удаляется из лоад балансера, поэтому отдельный таск под это не создавался.</p>

<h2 id="запускаем-ansible">Запускаем ansible</h2>

<p>Ещё раз продублирую <a href="https://github.com/korney4eg/rolling-deployment-ansible"> ссылку </a> на полный плейбук.</p>

<p>Проще всего будет клонировать весь репозиторий и запустить скрипт:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git clone https://github.com/korney4eg/rolling-deployment-ansible
cd rolling-deployment-ansible/
ansible-playbook provision.yaml  -v</code></pre></div>
<p>Чтобы вам долго не мучиться с удалением только что созданных ресурсов я подготовил скрипт, который удаляет всё в обратном порядке, для этого нужно выполнить следующую команду:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ansible-playbook destroy.yaml  -v</code></pre></div>
<h2 id="что-можно-сделать-лучше">Что можно сделать лучше</h2>

<ol>
<li>Разбить один большой файл на несколько мелких, это бы дало лучшую читабельность (<a href="https://docs.ansible.com/ansible/latest/user_guide/playbooks_best_practices.html">как советуют в Ansible</a>).</li>
</ol>

<h2 id="заключение">Заключение</h2>

<p>На этом примере был рассмотрен один из видов беспрерывного развёртывания (Zero-downtime deployment) - Поэтапное развёртывание (Rolling Deployment). Как уже было сказано выше, этот способ экономит деньги(немного), потому что в один момент времени используется <em>n+1</em> виртуалок, в то время как при Blue-Green Deployment - <em>2*n</em>.</p>

<p>К недостаткам этого метода можно отнести следующие пункты:</p>

<ol>
<li>Медленный, занимает времени больше, чем при Blue-Green Deployment в N раз, где N - количество виртуалок.</li>
<li>Если что-то сломается в середине процесса, например на 3-й виртуалке из 5-ти, то придётся заранее думать, как всё починить и идти дальше. Хотя можно поставить деплоить виртуалки со старой версией.</li>
</ol>

<p>Не смотря на недостатки этот способ используется по-умолчанию в оркестраторах контейнеров (например <a href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/"> kubernetes </a>).</p>
            </div>
        </div>
    </div>
    <div class="column is-3">
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Tags</h1>
        <div class="tags">
        
            <span class="tag"><a href="http://0.0.0:4000/tags/ansible">ansible</a></span>
        
            <span class="tag"><a href="http://0.0.0:4000/tags/aws">aws</a></span>
        
            <span class="tag"><a href="http://0.0.0:4000/tags/bitwarden">bitwarden</a></span>
        
            <span class="tag"><a href="http://0.0.0:4000/tags/blue-green-deployment">blue-green-deployment</a></span>
        
            <span class="tag"><a href="http://0.0.0:4000/tags/canary-deployment">canary-deployment</a></span>
        
            <span class="tag"><a href="http://0.0.0:4000/tags/chef">chef</a></span>
        
            <span class="tag"><a href="http://0.0.0:4000/tags/ci/cd">ci/cd</a></span>
        
            <span class="tag"><a href="http://0.0.0:4000/tags/deployment">deployment</a></span>
        
            <span class="tag"><a href="http://0.0.0:4000/tags/devops">devops</a></span>
        
            <span class="tag"><a href="http://0.0.0:4000/tags/git">git</a></span>
        
            <span class="tag"><a href="http://0.0.0:4000/tags/howto">howto</a></span>
        
            <span class="tag"><a href="http://0.0.0:4000/tags/opensource">opensource</a></span>
        
            <span class="tag"><a href="http://0.0.0:4000/tags/passwordmanager">passwordmanager</a></span>
        
            <span class="tag"><a href="http://0.0.0:4000/tags/tmux">tmux</a></span>
        
            <span class="tag"><a href="http://0.0.0:4000/tags/vim">vim</a></span>
        
            <span class="tag"><a href="http://0.0.0:4000/tags/%D0%BA%D0%BD%D0%B8%D0%B3%D0%B8">книги</a></span>
        
            <span class="tag"><a href="http://0.0.0:4000/tags/%D0%BA%D1%83%D1%80%D1%81%D1%8B">курсы</a></span>
        
            <span class="tag"><a href="http://0.0.0:4000/tags/%D0%BC%D1%8B%D1%81%D0%BB%D0%B8">мысли</a></span>
        
            <span class="tag"><a href="http://0.0.0:4000/tags/%D1%81%D0%B0%D0%B9%D1%82">сайт</a></span>
        
            <span class="tag"><a href="http://0.0.0:4000/tags/%D1%81%D0%B5%D1%80%D1%82%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D0%B8%D1%8F">сертификаия</a></span>
        
            <span class="tag"><a href="http://0.0.0:4000/tags/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5">техническое</a></span>
        
        </div>          
    </div>
</div><br>
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Recent posts</h1>
        
            <h1><a href="http://0.0.0:4000/2018/12/17/cources-recommendations.html">Где помогают освоить магию командной строки. Рекомендую курсы git и tmux</a></h1>
            <time class="has-text-grey-light is-size-7">17.12.2018</time>
        
            <h1><a href="http://0.0.0:4000/2018/12/10/password-managers.html">Выбираем open source менеджер паролей</a></h1>
            <time class="has-text-grey-light is-size-7">10.12.2018</time>
        
            <h1><a href="http://0.0.0:4000/2018/12/03/canary-deployment-with-ansible-on-aws.html">Пример бесперебойного развёртывания сервиса на Ansible в AWS. Часть 3. Canary Deployment</a></h1>
            <time class="has-text-grey-light is-size-7">03.12.2018</time>
        
            <h1><a href="http://0.0.0:4000/2018/11/26/rolling-deployment-with-anisble-with-aws.html">Пример бесперебойного развёртывания сервиса на Ansible в AWS. Часть 2. Rolling Deployment</a></h1>
            <time class="has-text-grey-light is-size-7">26.11.2018</time>
        
            <h1><a href="http://0.0.0:4000/2018/11/11/blue-green-deployment-with-anisble-with-aws.html">Пример бесперебойного развёртывания сервиса на Ansible в AWS. Часть 1. Blue-Green Deployment</a></h1>
            <time class="has-text-grey-light is-size-7">11.11.2018</time>
        
    </div>
</div>
    
<br>
                
  



<div class="card">
    <div class="card-content">
        <h1 class="title is-5">Related posts</h1>
      
      
            <h1><a href="http://0.0.0:4000/2018/12/03/canary-deployment-with-ansible-on-aws.html">Пример бесперебойного развёртывания сервиса на Ansible в AWS. Часть 3. Canary Deployment</a></h1>
            <time class="has-text-grey-light is-size-7">03.12.2018</time>
      
            <h1><a href="http://0.0.0:4000/2018/11/11/blue-green-deployment-with-anisble-with-aws.html">Пример бесперебойного развёртывания сервиса на Ansible в AWS. Часть 1. Blue-Green Deployment</a></h1>
            <time class="has-text-grey-light is-size-7">11.11.2018</time>
      
            <h1><a href="http://0.0.0:4000/2018/08/25/aws-certification-preparation.html">Как подготовиться к сдаче на сертификат &#34;AWS Certified SysOps Administrator – Associate&#34;</a></h1>
            <time class="has-text-grey-light is-size-7">25.08.2018</time>
      
            <h1><a href="http://0.0.0:4000/2018/05/21/chef-provisioning-aws-folder-structure.html">Зачем chef provisioning пересоздал всё в AWS и как это поправить.</a></h1>
            <time class="has-text-grey-light is-size-7">21.05.2018</time>
      
    </div>
</div>

    
<br>
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Archives</h1>
        
            <a href="http://0.0.0:4000/archives/2018">2018</a> (12)<br>
        
            <a href="http://0.0.0:4000/archives/2017">2017</a> (2)<br>
        
    </div>
</div>

    </div>
</div>


    </div>
</div>

<footer class="footer has-background-grey-darker has-text-white">
    <div class="content has-text-centered">
        <p>
            <span class="icon is-large"><a href="https://twitter.com/" class="mysocial"><i class="fab fa-twitter fa-3x"></i></a></span>&nbsp;&nbsp;
            <span class="icon is-large"><a href="https://www.youtube.com/" class="mysocial"><i class="fab fa-youtube fa-3x"></i></a></span>&nbsp;&nbsp;
            <span class="icon is-large"><a href="https://github.com/" class="mysocial"><i class="fab fa-github fa-3x"></i></a></span>&nbsp;&nbsp;
            <span class="icon is-large"><a href="https://github.com/" class="mysocial"><i class="fab fa-instagram fa-3x"></i></a></span>&nbsp;&nbsp;
            <br><br>
            Copyright &copy; Makvaz 2019 - Theme by <a href="https://jeffprod.com" class="mysocial">JeffProd.com</a>
            - <a class="mysocial" href="http://0.0.0:4000/about">About</a>
        </p>
    </div>
</footer>

<script defer src="https://use.fontawesome.com/releases/v5.1.0/js/all.js"></script>
</body>
</html>
