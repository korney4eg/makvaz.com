---
layout: post
title: Двухвакторная авторизация. Что делать, если ушёл второй фактор.
archives: "2019"
tags: [мысли]
---
*Мобильный телефон стал заменять очень многие вещи: фотоаппарат, карту, кошелёк, адресную книгу, плеер и наконец, компьютер. Мы доверяем ему очень важную информацию, авторизуемся при помощи него на разных сервисах([двухфакторная аутентификация](https://ru.wikipedia.org/wiki/Многофакторная_аутентификация#Двухфакторная_аутентификация)). Давайте представим, что вы находитесь вдали от дома, без доступа к домашнему компьютеру и вдруг вы лишаетесь своего телефона с сим картой. Как выжить, если, например у вас записан адрес брони в следующем отеле, или билеты на самолёт лежат в почтовом ящике. Сегодняшнюю статью я хочу посвятить теме восстановления доступа к сервисам с двухфакторной аутентификацией.*
<!--more-->

> Сразу хочу предупредить: если вы отправляетесь в поездку - распечатайте **ВСЕ** билеты, брони отелей, подтверждения, и носите с собой. Если вы этого не сделали, сильно не расстраивайтесь, есть вариант часть доступов восстановить прямо во время отпуска, хотя это и может занять несколько дней.

В основном на разных сайтах пароль легко восстанавливается, достаточно нажать на "Забыл пароль" или "Восстановить пароль" и на почту придёт ссылка для сброса пароля. В случае с двухфакторной аутентификацией всё несколько сложнее. Рассмотрим на примерах.

## Менеджер паролей. Bitwarden.

Не так давно я уже [писал](/2018/12/10/password-managers/) про то, что для себя выбрал bitwarden и до сих пор ничуть об этом не жалею.

Восстановление доступа происходит следующим образом: заходим по адресу хранилища паролей, вводим мастер-пароль - и вот они наши заветные пароли. Другое дело, если подключили двухфакторную аутентификацию(2FA), нужно ввести код из Google Authentificator, иначе единственным вариантом авторизоваться - носить с собой распечатку с 32 символами, которые были предоставлены при настройке 2FA.

На сколько легко восстановить доступ: **легко**/**невозможно**(если использовать 2FA)

Как предотвратить/смягчить утрату: 

  * Помнить пароль

  * Распечатать 32-х символьный код восстановления и хранить его в оффлайне.

## Google аккаунт.

Пожалуй один из самых нужных аккаунтов у меня на данный момент. Моя главная почта на gmail. Любой мало-мальски значимый сервис я привязываю в гугловой почте. Поэтому восстановление доступа к почте - имеет найбольший приоритет.

После некоторых утечек паролей, я поменял пароль на сложный и, чтобы не запоминать, сохранил его в менеджере паролей, так же подключил 2FA. Таким образом, в рамках эксперимента, проблема восстановления доступа усложняется тем, что нет ни пароля, который храниться в менеджере паролей или сохранён в браузере, ни 2го фактора.

Как оказалось, Гугл к восстановлению подошёл по-человечески разумно. Секретных вопросов никто не спрашивал (я их заполнял около 8 лет тому назад и вряд ли сейчас вспомню), просто проверил, какой запасной ящик записан и ещё пару вопросов по текущему аккаунту. После этого попросил подождать 3-5 дней, и через 2 дня прислал ссылку на восстановление.

На сколько легко восстановить: **средне**

Как предотвратить/смягчить утрату: 

  * Желательно помнить пароль

  * Обязательно иметь прикреплённый запасной почтовый ящик


## Facebook

Очень для многих отпуск без выложенных фоточек и красивых статусов - не считается, поэтому я включил сюда и Facebook.

Фейсбук предоставляет две опции в качестве второго фактора: SMS или мобильное приложение(Google Authenticator или Duo). В своё время я выбрал Duo, хотя Google Authenticator тоже ничего. Честно, был удивлён, сколько способов facebook предоставляет для восстановления:

1. Список одноразовых кодов, который стоит распечатать и хранить оффлайн.

2. Доверенные друзья, 3-5 друзей, с которыми вы можете связаться без своего телефона(помните их е-мейлы или телефон), они вам смогут продиктовать один из одноразовых кодов.

3. Форма, в которой вы указываете, что не имеете доступ к своему телефону, объясняете все обстоятельства и уже живой человек решает, восстановить вам аккаунт или нет.

На сколько легко восстановить: **средне**

Как предотвратить/смягчить утрату: 

  * Обязательно иметь доступ к почтовому ящику

  * Обязательно распечатать одноразовые коды и хранить их offline

  * Добавить несколько друзей, к которым вы можете легко  обратиться и которые помогут вам восстановить доступ.

## Вместо заключения

Конечно лучше всего не терять телефон с сим картой. Как оказывается, это не только дополнительные траты на покупку нового, но и нервы, которые вы потратите, в спешке восстанавливая нужные доступы.

Вот ещё несколько советов:

- ставьте пин код на сим карту, несмотря на то, что сейчас симки идут незащищённые. Например некоторые интернет-банки посылают код подтверждение по SMS

- имейте распечатанными билеты, брони, рассписания и копии документов. Много времени это не занимает, а в критической ситуации поможет основательно.

- если едете не одни, желательно дублировать предыдущий пункт на телефон вашего товарища/жены/мужа, так же в этом случае хорошо бы использовать единый почтовый ящик.
